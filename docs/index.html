<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>mixed-types-num-0.1.0.0: Alternative Prelude with numeric and logic expressions typed bottom-up</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">mixed-types-num-0.1.0.0: Alternative Prelude with numeric and logic expressions typed bottom-up</p></div><div id="content"><div id="description"><h1>mixed-types-num-0.1.0.0: Alternative Prelude with numeric and logic expressions typed bottom-up</h1><div class="doc"><h1>Main purpose</h1><p>This package provides a version of Prelude where
unary and binary operations such as <code>not</code>, <code>+</code>, <code>==</code>
have their result type derived from the parameter type(s),
allowing, <em>e.g.</em>:</p><ul><li>dividing an integer by an integer, giving a rational:</li></ul><pre>let n = 1 :: Integer in n/(n+1) :: Rational</pre><pre>1/2 :: Rational</pre><p>(The type Rational would be derived automatically because
integer literals are always of type <code>Integer</code>, not <code>Num t =&gt; t</code>.)</p><ul><li>adding an integer and a rational, giving a rational:</li></ul><pre>(length [x])+1/3 :: Rational</pre><ul><li>taking natural, integer and fractional power using the same operator:</li></ul><pre>2^2 :: Integer</pre><pre>2.0^(-2) :: Rational</pre><pre>(double 2)^(1/2) :: Double</pre><p>The following examples require package <a href="https://github.com/michalkonecny/aern2/aern2-real">aern2-real</a>:</p><pre>2^(1/2) :: CauchyReal</pre><pre>pi :: CauchyReal</pre><ul><li>comparing an integer with an (exact) real number, giving a <code>Maybe Bool</code>:</li></ul><pre>... x :: CauchyReal ... if (isCertainlyTrue (x &gt; 1)) then ...</pre><h1>Type classes</h1><p>Arithmetic operations are provided via multi-parameter type classes
and the result type is given by associated
type families. For example:</p><pre>(+) :: (CanAddAsymmetric t1 t2) =&gt; t1 -&gt; t2 -&gt; AddType t1 t2</pre><p>The type constraint <code>CanAdd t1 t2</code> implies both
<code>CanAddAsymmetric t1 t2</code> and <code>CanAddAsymmetric t2 t1</code>.</p><p>For convenience there are other aggregate type constraints such as
<code>CanAddThis t1 t2</code>, which implies that the result is of type <code>t1</code>,
and <code>CanAddSameType t</code>, which is a shortcut for <code>CanAddThis t t</code>.</p><h2>Testable specification</h2><p>The arithmetic type classes are accompanied by generic hspec test suites,
which are specialised to concrete instance types for their testing.
These test suites include the expected algebraic properties of operations,
such as commutativity and associativity of addition.</p><h1>Limitations</h1><ul><li>Not all numerical operations are supported yet.
Eg <code>tan</code>, <code>atan</code> are missing at the moment.</li><li>Inferred types can be very large. Eg for <code>f a b c = sqrt (a + b * c + 1)</code> the inferred type is:</li></ul><pre>f: (CanMulAsymmetric t1 t2, CanAddAsymmetric t4 (MulType t1 t2),
CanAddAsymmetric (AddType t4 (MulType t1 t2)) Integer,
CanSqrt (AddType (AddType t4 (MulType t1 t2)) Integer)) =&gt;
t4
-&gt; t1
-&gt; t2
-&gt; SqrtType (AddType (AddType t4 (MulType t1 t2)) Integer)
</pre><ul><li>Due to limitations of some versions of ghc, type inferrence sometimes fails.
Eg <code>add1 = (+ 1)</code> fails (eg with ghc 8.0.2) unless we explicitly declare the type
<code>add1 :: (CanAdd Integer t) =&gt; t -&gt; AddType t Integer</code>
or use an explicit parameter, eg <code>add1 x = x + 1</code>.</li></ul><h1>Further reading</h1><p>To find out more, please read the documentation for the modules
in the order specified in <a href="Numeric-MixedTypes.html">Numeric.MixedTypes</a>.</p><h1>Origin</h1><p>The idea of having numeric expressions in Haskell with types
derived bottom-up was initially suggested and implemented by Pieter Collins.
This version is a fresh rewrite by Michal Kone&#269;n&#253;.</p></div></div><div id="module-list"><p class="caption">Modules</p><ul><li><span id="control.n.1" class="module collapser" onclick="toggleSection('n.1')">Numeric</span><ul id="section.n.1" class="show"><li><span class="module"><span id="control.n.1.1" class="collapser" onclick="toggleSection('n.1.1')">&nbsp;</span><a href="Numeric-MixedTypes.html">Numeric.MixedTypes</a></span> Bottom-up typed numeric expressions<ul id="section.n.1.1" class="show"><li><span class="module"><a href="Numeric-MixedTypes-AddSub.html">Numeric.MixedTypes.AddSub</a></span> Bottom-up typed addition and subtraction</li><li><span class="module"><a href="Numeric-MixedTypes-Bool.html">Numeric.MixedTypes.Bool</a></span> Bottom-up typed Boolean operations</li><li><span class="module"><a href="Numeric-MixedTypes-Elementary.html">Numeric.MixedTypes.Elementary</a></span> Bottom-up typed pi, sqrt, cos, etc</li><li><span class="module"><a href="Numeric-MixedTypes-Eq.html">Numeric.MixedTypes.Eq</a></span> Bottom-up typed equality comparisons</li><li><span class="module"><a href="Numeric-MixedTypes-Field.html">Numeric.MixedTypes.Field</a></span> Bottom-up typed division</li><li><span class="module"><a href="Numeric-MixedTypes-Literals.html">Numeric.MixedTypes.Literals</a></span> Fixed-type numeric literals, conversions</li><li><span class="module"><a href="Numeric-MixedTypes-MinMaxAbs.html">Numeric.MixedTypes.MinMaxAbs</a></span> Bottom-up typed min, max and abs</li><li><span class="module"><a href="Numeric-MixedTypes-Ord.html">Numeric.MixedTypes.Ord</a></span> Bottom-up typed order comparisons</li><li><span class="module"><a href="Numeric-MixedTypes-PreludeHiding.html">Numeric.MixedTypes.PreludeHiding</a></span> Prelude without operations that clash with MixedTypes</li><li><span class="module"><a href="Numeric-MixedTypes-Ring.html">Numeric.MixedTypes.Ring</a></span> Bottom-up typed multiplication and exponent</li><li><span class="module"><a href="Numeric-MixedTypes-Round.html">Numeric.MixedTypes.Round</a></span> Bottom-up typed round, floor, etc.</li></ul></li></ul></li></ul></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>